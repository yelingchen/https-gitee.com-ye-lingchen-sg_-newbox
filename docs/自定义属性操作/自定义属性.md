# 自定义属性操作

## json_to_prop(json)

json转自定义属性

### 语法
```javascript
json_to_prop(json)
```

### 参数
| 参数名 | 类型   | 必填 | 说明   |
| ------ | ------ | ---- | ------ |
| json   | Object | 是   | 对象   |

### 返回值
返回转换后的自定义属性

### 示例
```javascript
// 将JSON对象转换为自定义属性
var jsonData = {
    name: "张三",
    age: 25
};
var props = json_to_prop(jsonData);
console.log(props);
```

---

## prop_to_json(selector)

获取自定义属性并转json

### 语法
```javascript
prop_to_json(selector)
```

### 参数
| 参数名   | 类型   | 必填 | 说明   |
| -------- | ------ | ---- | ------ |
| selector | string | 是   | 选择器 |

### 返回值
返回转换后的JSON对象

### 示例
```javascript
// 获取选择器元素的自定义属性并转换为JSON
var jsonObj = prop_to_json("#userDiv");
console.log(jsonObj);
```

---

## getPropJsonById(id)

通过id获取自定义属性并转json

### 语法
```javascript
getPropJsonById(id)
```

### 参数
| 参数名 | 类型   | 必填 | 说明   |
| ------ | ------ | ---- | ------ |
| id     | string | 是   | 节点id |

### 返回值
返回转换后的JSON对象

### 示例
```javascript
// 通过ID获取元素的自定义属性并转换为JSON
var jsonObj = getPropJsonById("userDiv");
console.log(jsonObj);
```

---

## getPropJsonByGlobalId(global_id)

通过全局id获取自定义属性并转json

### 语法
```javascript
getPropJsonByGlobalId(global_id)
```

### 参数
| 参数名    | 类型   | 必填 | 说明   |
| --------- | ------ | ---- | ------ |
| global_id | string | 是   | 全局id |

### 返回值
返回转换后的JSON对象

### 示例
```javascript
// 通过全局ID获取元素的自定义属性并转换为JSON
var jsonObj = getPropJsonByGlobalId("global_user_123");
console.log(jsonObj);
```

---

## setPropByJson(selector, json)

通过json格式设置自定义属性

### 语法
```javascript
setPropByJson(selector, json)
```

### 参数
| 参数名   | 类型   | 必填 | 说明       |
| -------- | ------ | ---- | ---------- |
| selector | string | 是   | 选择器     |
| json     | Object | 是   | json对象   |

### 示例
```javascript
// 通过JSON格式设置元素的自定义属性
var props = {
    "data-name": "张三",
    "data-age": "25"
};
setPropByJson("#userDiv", props);
```

---

## sys_prop(json, prop)

提取本系统特有的自定义属性

### 语法
```javascript
sys_prop(json, prop)
```

### 参数
| 参数名 | 类型   | 必填 | 说明                 |
| ------ | ------ | ---- | -------------------- |
| json   | Object | 是   | 自定义属性json对象   |
| prop   | string | 是   | sg-开头的系统属性    |

### 返回值
返回系统属性值

### 示例
```javascript
// 从自定义属性中提取系统属性
var customProps = {
    "sg-user-id": "1001",
    "sg-role": "admin"
};
var userId = sys_prop(customProps, "sg-user-id");
console.log(userId); // 输出: 1001
```

---

## prop_label(json)

提取本系统自定义属性的label文本

### 语法
```javascript
prop_label(json)
```

### 参数
| 参数名 | 类型   | 必填 | 说明                 |
| ------ | ------ | ---- | -------------------- |
| json   | Object | 是   | 自定义属性json对象   |

### 返回值
返回label文本

### 示例
```javascript
// 从自定义属性中提取label文本
var customProps = {
    "sg-label": "用户名",
    "sg-value": "张三"
};
var label = prop_label(customProps);
console.log(label); // 输出: 用户名
```

---

## addPropById(id, attr_key, attr_val)

通过id添加自定义属性

### 语法
```javascript
addPropById(id, attr_key, attr_val)
```

### 参数
| 参数名    | 类型   | 必填 | 说明   |
| --------- | ------ | ---- | ------ |
| id        | string | 是   | id     |
| attr_key  | string | 是   | 属性键 |
| attr_val  | string | 是   | 属性值 |

### 示例
```javascript
// 通过ID添加自定义属性
addPropById("userDiv", "data-status", "active");
```

---

## removePropById(id, attr_key)

通过id移除自定义属性

### 语法
```javascript
removePropById(id, attr_key)
```

### 参数
| 参数名   | 类型   | 必填 | 说明   |
| -------- | ------ | ---- | ------ |
| id       | string | 是   | id     |
| attr_key | string | 是   | 属性键 |

### 示例
```javascript
// 通过ID移除自定义属性
removePropById("userDiv", "data-status");
```